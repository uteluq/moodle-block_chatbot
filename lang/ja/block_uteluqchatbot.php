<?php
/**
 * @copyright 2025 UNIVERSITÉ TÉLUQ & UNIVERSITÉ GASTON BERGER DE SAINT-LOUIS
 */
$string['pluginname'] = 'チャットボット';
$string['uteluqchatbot:addinstance'] = '新しいチャットボットブロックを追加';
$string['uteluqchatbot:myaddinstance'] = 'ダッシュボードに新しいチャットボットブロックを追加';
$string['weaviate_cohere_not_configured'] = 'Cohere API キーが設定されていないか無効です。設定を確認してください。';
$string['adobe_pdf_client_id'] = 'Adobe PDFサービス クライアントID';
$string['adobe_pdf_client_id_desc'] = 'あなたのAdobe PDFサービス クライアントIDをここに入力してください。';
$string['adobe_pdf_client_secret'] = 'Adobe PDFサービス クライアントシークレット';
$string['adobe_pdf_client_secret_desc'] = 'あなたのAdobe PDFサービス クライアントシークレットをここに入力してください。';
$string['weaviate_api_url'] = 'Weaviate API URL';
$string['weaviate_api_url_desc'] = 'Weaviate APIのURLをここに入力してください。';
$string['weaviate_api_key'] = 'Weaviate APIキー';
$string['weaviate_api_key_desc'] = 'あなたのWeaviate APIキーをここに入力してください。';
$string['cohere_embedding_api_key'] = 'Cohere埋め込みモデルAPIキー';
$string['cohere_embedding_api_key_desc'] = 'Cohere埋め込みモデルのAPIキーをここに入力してください。';
$string['test_api_keys'] = 'APIキーをテスト';
$string['test_api_keys_desc'] = '設定されたAPIキーをテストするにはクリックしてください';
$string['test_api_keys_label'] = 'キーをテスト';
$string['uteluqchatbot:manage'] = 'チャットボットの設定を管理';
$string['adobe_invalid_credentials'] = 'Adobe PDFサービスのクライアントIDまたはクライアントシークレットが無効です。';
$string['adobe_valid_credentials'] = 'Adobe PDFサービスのクライアントIDとクライアントシークレットが有効で機能しています。';
$string['weaviate_connection_error'] = 'Weaviateへの接続エラー: ';
$string['weaviate_invalid_key_or_url'] = 'Weaviate APIのURLまたはキーが無効です、またはエラーが発生しました。エラーコード: ';
$string['weaviate_valid_key_and_url'] = 'Weaviate APIのURLとキーが有効で機能しています。';
$string['database_write_error'] = 'データベースへの書き込みエラー: ';
$string['error_saving_conversation'] = '会話の保存中にエラーが発生しました';
$string['invalid_question_after_sanitize'] = 'サニタイズ後の無効な質問。';
$string['empty_response_from_api'] = 'APIから空のレスポンスを受信しました';
$string['failed_to_obtain_access_token'] = 'アクセストークンの取得に失敗しました。HTTPステータス: ';
$string['access_token_obtained_successfully'] = 'アクセストークンを正常に取得しました。';
$string['failed_to_obtain_access_token_response'] = 'アクセストークンの取得に失敗しました。レスポンス: ';
$string['failed_to_obtain_upload_uri'] = 'アップロードURIの取得に失敗しました。HTTPステータス: ';
$string['asset_upload_uri_obtained'] = 'アセットアップロードURIを取得しました。';
$string['failed_to_obtain_upload_uri_response'] = 'アップロードURIの取得に失敗しました。レスポンス: ';
$string['failed_to_upload_file'] = 'ファイルのアップロードに失敗しました。HTTPステータス: ';
$string['file_uploaded_successfully'] = 'ファイルが正常にアップロードされました。';
$string['job_created_successfully'] = 'ジョブが正常に作成されました。場所: ';
$string['bad_request'] = '不正なリクエスト。リクエストが無効ですまたは処理できません。';
$string['unauthorized'] = '認証されていません。APIクレデンシャルを確認してください。';
$string['resource_not_found'] = 'リソースが見つかりません。指定されたリソースが見つかりません。';
$string['quota_exceeded'] = 'クォータを超えました。この操作のクォータを超えました。';
$string['internal_server_error'] = '内部サーバーエラー。サーバーがエラーを起こし、現在リクエストを処理できません。';
$string['unexpected_http_status'] = '予期せぬHTTPステータス: ';
$string['failed_to_get_job_status'] = 'ジョブステータスの取得に失敗しました。HTTPステータス: ';
$string['job_status'] = 'ジョブステータス: ';
$string['job_completed_successfully'] = 'ジョブが正常に完了しました。ダウンロードURI: ';
$string['job_completed_but_download_uri_missing'] = 'ジョブは完了しましたが、レスポンスにダウンロードURIが含まれていません。';
$string['job_in_progress'] = 'ジョブがまだ進行中です。ポーリングを継続してください...';
$string['job_failed'] = 'ジョブが失敗しました。';
$string['failed_to_decode_json_response'] = 'JSONレスポンスのデコードに失敗しました、またはステータスフィールドが欠落しています。レスポンス: ';
$string['failed_to_download_asset'] = 'アセットのダウンロードに失敗しました。HTTPステータス: ';
$string['asset_downloaded_successfully'] = 'アセットが正常にダウンロードされました。';
$string['error_decoding_json_file'] = 'JSONファイルのデコード中にエラーが発生しました。';
$string['curl_error'] = 'cURLエラー: ';
$string['http_error'] = 'HTTPエラー ';
$string['json_decode_error'] = 'JSONデコードエラー: ';
$string['no_response_generated'] = '応答が生成されませんでした。受信したデータ: ';
$string['previous_interactions_history'] = '過去のやり取りの履歴:';
$string['previous_question'] = '前の質問: ';
$string['answer'] = '回答: ';
$string['file_not_found'] = 'ファイルが見つかりません: ';
$string['unable_to_read_file'] = 'ファイルを読み取れません';
$string['json_encode_error'] = 'JSONエンコードエラー: ';
$string['failure_after_retries'] = '再試行後に失敗 ';
$string['last_error'] = ' 回。最後のエラー: HTTP ';
$string['invalid_response_format'] = '無効な応答形式。';
$string['http_code'] = 'HTTPコード: ';
$string['default_prompt'] = <<<EOT
状況の文脈  
学習者は [[ coursename ]] のコースを受講しています。あなたの役割は、学習者の学びに合わせて、正確で適切かつ有益な回答を提供することです。

ミッション  
アシスタントとしてのあなたの使命は、「コースX」に関する学習内容を理解できるよう、提供された文脈に基づいて学習者の質問に答えることです。[[ history ]]  
回答は明確で正確かつ関連性のあるものでなければならず、コースから得られた情報のみに基づいてください。文脈内に答えが見つからない場合は、次の文を厳密に使用してください：  
「私は、担当教師が慎重に選定したコース内容に基づいて調整されています。詳細が必要な場合は、教師にお問い合わせください。」

学習者が、ある概念や以前の説明を理解していないことを示す表現をした場合は、[[ history ]] を確認し、何が理解されていないかを特定した上で、より簡潔で具体的な例を用いて説明を言い換えてください。

指示  
1. 各質問を分析し、感情が含まれているかを以下の分類に基づいて判断してください：  
   - 混乱：「わからない」「迷っている」「あいまいだ」  
   - フラストレーション：「イライラする」「もう無理」「難しすぎる」  
   - ストレス・不安：「ストレスを感じる」「圧倒されている」「時間がない」  
   - 疑念・自信のなさ：「できない」「自分には無理だ」

2. 感情が検出された場合は、以下のような共感的な一言から回答を始めてください：  
   - 混乱：「わかります、それは簡単ではありませんね。」  
   - フラストレーション：「それがイライラするのは理解できます。」  
   - ストレス：「圧倒されるのは自然なことです。」  
   - 疑念：「あなたは最善を尽くしています。それだけでも素晴らしいことです。」

3. その後、明確かつ構造的に回答してください。  
4. 必要に応じて例を使用してください。  
5. 提供された文脈以外の情報は決して含めないでください。

6. 以下の [Springer Table 1](https://link.springer.com/article/10.1007/s00146-023-01715-z/tables/1) に定義された共感の4つの構成要素を統合してください：  
   - 認知的側面：学習者の視点や意図を理解し、それを言い換えて確認する。  
   - 感情的側面：感情（フラストレーション、不安など）に敏感になり、適切な言葉や比喩で共感を示す。  
   - 態度的側面：温かく、敬意を持ち、励ます姿勢を取る。努力を認め、評価する。  
   - 同調的側面：語彙や話し方、言語レベルを学習者に合わせる。話題を強制せず、学習者に主導権を持たせる。

7. 対話全体を通して、思いやりがあり、敬意を持ち、やる気を引き出すトーンを維持してください。

学習者からの新しい質問  
[[ question ]]
EOT;
$string['back'] = '戻る';
$string['file_size_exceeds_limit'] = 'ファイルサイズが10MBの制限を超えています';
$string['sending_question'] = '質問を送信しています...';
$string['error'] = 'エラー: ';
$string['error_sending_question'] = '質問の送信中にエラーが発生しました: ';
$string['saving_prompt'] = 'プロンプトを保存しています...';
$string['prompt_saved_successfully'] = 'プロンプトが正常に保存されました!';
$string['error_saving_prompt'] = 'プロンプトの保存中にエラーが発生しました: ';
$string['uploading_file'] = 'ファイルをアップロードしています...';
$string['file_indexed_successfully'] = 'ファイルが正常にインデックスされました!';
$string['error_processing_file'] = 'ファイルの処理中にエラーが発生しました: ';
$string['add_files'] = 'ファイルを追加';
$string['text_or_pdf_files'] = 'テキストまたはPDFファイル';
$string['drag_files_here_or_click'] = 'ファイルをここにドラッグするか、クリックして参照してください';
$string['cancel'] = 'キャンセル';
$string['upload_course'] = 'コースをアップロード';
$string['conversations'] = '会話';
$string['prompts'] = 'プロンプト';
$string['modify_prompt'] = '修正';
$string['add_prompt'] = '追加';
$string['consult_guide'] = '効果的なプロンプトを設計するためのガイドを確認してください:';
$string['guide_link'] = '教師向けのプロンプト設計ガイド';
$string['prompt_content'] = 'プロンプトコンテンツ';
$string['write_prompt_here'] = 'ここにプロンプトを入力してください';
$string['save'] = '保存';
$string['chatbot_with_toggle_buttons'] = 'トグルボタン付きチャットボット';
$string['hello_professor'] = 'こんにちは、教授。チャットボットが正しく機能し、プロンプトが最適に設定されていることを確認するために、テストするオプションがあります。';
$string['hello_student'] = 'こんにちは！私はあなたの学習アシスタントです。以下のことでお手伝いできます: - コースの概念を理解する - 練習問題を確認して練習する - 難しい点を明確にする - 学習方法を提案する。どのようなお手伝いができますか？';
$string['ask_your_question_here'] = 'ここに質問を入力してください...';
$string['modify_prompt'] = 'プロンプトを修正';
$string['upload_course'] = 'コースをアップロード';
$string['error_uploading_asset'] = 'アセットのアップロード中にエラーが発生しました。';
$string['error_creating_job'] = 'ジョブの作成中にエラーが発生しました。';
$string['job_failed'] = 'ジョブが失敗しました。';
$string['error_processing_pdf'] = 'PDFの処理中にエラーが発生しました。';
$string['json_encode_error'] = 'JSONエンコードエラー：';
$string['no_files_selected'] = 'ファイルが選択されていません';
$string['course_id'] = 'コースID';
$string['file_name'] = 'ファイル名';
$string['file_content_base64'] = 'ファイル内容（base64エンコード）';
$string['insufficient_permissions'] = 'ファイルをアップロードする権限が不足しています';
$string['missing_api_configuration'] = '必要なAPI設定が不足しています';
$string['weaviate_connector_not_found'] = 'WeaviateConnectorクラスが見つかりません';
$string['collection_prefix'] = 'Collection_course_';
$string['error_creating_collection'] = 'コレクション作成エラー：';
$string['unknown_error'] = '不明なエラー';
$string['failed_create_upload_directory'] = 'アップロードディレクトリの作成に失敗しました';
$string['empty_filename'] = '空のファイル名が提供されました';
$string['unsupported_file_type'] = 'サポートされていないファイルタイプ：';
$string['invalid_file_data'] = '無効なファイルデータ：';
$string['failed_save_file'] = 'ファイル保存に失敗しました：';
$string['adobe_pdf_credentials_not_configured'] = 'Adobe PDF API認証情報が設定されていません';
$string['pdf_extractor_not_found'] = 'PDFエクストラクタークラスが見つかりません';
$string['failed_extract_pdf_text'] = 'PDFからのテキスト抽出に失敗しました：';
$string['failed_save_extracted_text'] = '抽出されたテキストファイルの保存に失敗しました：';
$string['error_indexing_file_unknown'] = 'ファイルのインデックス作成エラー ';
$string['files_indexed_successfully'] = ' ファイルが正常にインデックス化されました';
$string['errors_occurred'] = '。エラー：';
$string['no_files_processed'] = 'ファイルが処理されませんでした。エラー：';
$string['operation_successful'] = '操作成功';
$string['response_message'] = '応答メッセージ';
$string['processed_files_count'] = '処理されたファイルの数';
$string['sending_question_fallback'] = '質問を送信中...';
$string['error_colon_fallback'] = 'エラー：';
$string['error_sending_question_fallback'] = '質問の送信エラー：';
$string['saving_prompt_fallback'] = 'プロンプトを保存中...';
$string['prompt_saved_successfully_fallback'] = 'プロンプトが正常に保存されました！';
$string['error_saving_prompt_fallback'] = 'プロンプトの保存エラー：';
$string['no_files_selected_fallback'] = 'ファイルが選択されていません。';
$string['uploading_files_fallback'] = 'ファイルをアップロード中...';
$string['files_indexed_successfully_fallback'] = 'ファイルが正常にインデックス化されました！';
$string['error_processing_files_fallback'] = 'ファイル処理エラー：';
$string['unknown_error_occurred'] = '不明なエラーが発生しました';
$string['server_response_error'] = 'サーバー応答エラー。詳細はコンソールを確認してください。';
$string['server_error_check_console'] = 'サーバーエラー - 詳細はコンソールを確認してください';
$string['files_converted_debug'] = 'ファイルがbase64に変換されました：';
$string['sending_ajax_request_debug'] = 'AJAXリクエストを送信中：';
$string['upload_response_received_debug'] = 'アップロード応答を受信：';
$string['response_type_debug'] = '応答タイプ：';
$string['upload_error_details_debug'] = 'アップロードエラー詳細：';
$string['error_object_debug'] = 'エラーオブジェクト：';
$string['raw_server_response_debug'] = '生サーバー応答：';
$string['privacy:metadata:block_uteluqchatbot_conversations'] = 'チャットボットとのユーザー会話に関する情報';
$string['privacy:metadata:block_uteluqchatbot_conversations:userid'] = '会話を作成したユーザーのID';
$string['privacy:metadata:block_uteluqchatbot_conversations:question'] = 'ユーザーが質問した内容';
$string['privacy:metadata:block_uteluqchatbot_conversations:answer'] = 'チャットボットが提供した回答';
$string['privacy:metadata:block_uteluqchatbot_conversations:timecreated'] = '会話が作成された時刻';
$string['privacy:metadata:block_uteluqchatbot_conversations:courseid'] = '会話が行われたコースのID';
$string['privacy:metadata:block_uteluqchatbot_prompts'] = 'ユーザーが作成したカスタムプロンプトに関する情報';
$string['privacy:metadata:block_uteluqchatbot_prompts:prompt'] = 'ユーザーが作成したカスタムプロンプトテキスト';
$string['privacy:metadata:block_uteluqchatbot_prompts:userid'] = 'プロンプトを作成したユーザーのID';
$string['privacy:metadata:block_uteluqchatbot_prompts:courseid'] = 'プロンプトが作成されたコースのID';
$string['privacy:metadata:block_uteluqchatbot_prompts:timecreated'] = 'プロンプトが作成された時刻';
$string['privacy:metadata:cohere_api'] = 'AI駆動チャット応答のためにCohere APIサービスに送信されるデータ';
$string['privacy:metadata:cohere_api:question'] = '処理のためにCohere APIに送信されるユーザーの質問';
$string['privacy:metadata:cohere_api:courseid'] = 'Cohere APIに送信されるコースコンテキスト情報';
$string['privacy:metadata:cohere_api:prompt'] = 'Cohere APIに送信されるカスタムプロンプトとシステム指示';
$string['privacy:metadata:weaviate_cloud'] = 'ドキュメント保存と類似検索のためにWeaviate Cloudベクターデータベースに送信されるデータ';
$string['privacy:metadata:weaviate_cloud:document_content'] = 'Weaviateに保存されたアップロード文書から抽出されたテキストコンテンツ';
$string['privacy:metadata:weaviate_cloud:embeddings'] = 'Weaviateに保存された文書コンテンツから生成されたベクター埋め込み';
$string['privacy:metadata:weaviate_cloud:courseid'] = '保存された文書に関連付けられたコースコンテキスト情報';
$string['privacy:metadata:weaviate_cloud:metadata'] = 'Weaviateデータベースに保存された文書メタデータとプロパティ';
$string['privacy:metadata:adobe_pdf_api'] = 'PDF文書からのテキスト抽出のためにAdobe PDF Services APIに送信されるデータ';
$string['privacy:metadata:adobe_pdf_api:pdf_content'] = 'テキスト抽出のためにAdobe PDF Servicesに送信されるPDFファイルコンテンツ';
$string['privacy:metadata:adobe_pdf_api:filename'] = '処理のために送信されるPDF文書の元のファイル名';
$string['privacy:metadata:adobe_pdf_api:extracted_text'] = 'Adobe PDF ServicesによってPDF文書から抽出されたテキストコンテンツ';
