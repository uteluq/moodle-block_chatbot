<?php
/**
 * @copyright 2025 Université TÉLUQ and the Université Gaston-Berger
 */
$string['pluginname'] = 'uteluqchatbot';
$string['uteluqchatbot:addinstance'] = 'Agregar un nuevo bloque de chatbot';
$string['uteluqchatbot:myaddinstance'] = 'Agregar un nuevo bloque de chatbot al Tablero';
$string['adobe_pdf_client_id'] = 'ID de cliente de Adobe PDF Services';
$string['adobe_pdf_client_id_desc'] = 'Ingrese aquí su ID de cliente de Adobe PDF Services.';
$string['adobe_pdf_client_secret'] = 'Secreto de cliente de Adobe PDF Services';
$string['adobe_pdf_client_secret_desc'] = 'Ingrese aquí su secreto de cliente de Adobe PDF Services.';
$string['weaviate_api_url'] = 'URL de la API de Weaviate';
$string['weaviate_api_url_desc'] = 'Ingrese aquí la URL para la API de Weaviate.';
$string['weaviate_api_key'] = 'Clave de la API de Weaviate';
$string['weaviate_api_key_desc'] = 'Ingrese aquí su clave de la API de Weaviate.';
$string['weaviate_cohere_not_configured'] = 'La clave de la API de Cohere no está configurada o es inválida. Por favor, verifique la configuración.';
$string['cohere_embedding_api_key'] = 'Clave de la API del modelo de incrustación de Cohere';
$string['cohere_embedding_api_key_desc'] = 'Ingrese aquí su clave de la API para el modelo de incrustación de Cohere.';
$string['test_api_keys'] = 'Probar claves de API';
$string['test_api_keys_desc'] = 'Haga clic para probar las claves de API configuradas';
$string['test_api_keys_label'] = 'Probar claves';
$string['uteluqchatbot:manage'] = 'Gestionar configuraciones del chatbot';
$string['test_api_keys'] = 'Probar claves de API';
$string['adobe_invalid_credentials'] = 'El ID de cliente o el secreto de cliente para Adobe PDF Services es inválido.';
$string['adobe_valid_credentials'] = 'El ID de cliente y el secreto de cliente para Adobe PDF Services son válidos y funcionales.';
$string['weaviate_connection_error'] = 'Error de conexión con Weaviate: ';
$string['weaviate_invalid_key_or_url'] = 'La URL o la clave de la API de Weaviate es inválida o ocurrió un error. Código de error: ';
$string['weaviate_valid_key_and_url'] = 'La URL y la clave de la API de Weaviate son válidas y funcionales.';
$string['database_write_error'] = 'Error de escritura en la base de datos: ';
$string['invalid_question_after_sanitize'] = 'Pregunta inválida después de la sanitización.';
$string['error_saving_conversation'] = 'Error al guardar la conversación';
$string['empty_response_from_api'] = 'Respuesta vacía recibida de la API';
$string['failed_to_obtain_access_token'] = 'No se pudo obtener el token de acceso. Estado HTTP: ';
$string['access_token_obtained_successfully'] = 'Token de acceso obtenido exitosamente.';
$string['failed_to_obtain_access_token_response'] = 'No se pudo obtener el token de acceso. Respuesta: ';
$string['failed_to_obtain_upload_uri'] = 'No se pudo obtener la URI de carga. Estado HTTP: ';
$string['asset_upload_uri_obtained'] = 'URI de carga de activos obtenida.';
$string['failed_to_obtain_upload_uri_response'] = 'No se pudo obtener la URI de carga. Respuesta: ';
$string['failed_to_upload_file'] = 'No se pudo cargar el archivo. Estado HTTP: ';
$string['file_uploaded_successfully'] = 'Archivo cargado exitosamente.';
$string['job_created_successfully'] = 'Trabajo creado exitosamente. Ubicación: ';
$string['bad_request'] = 'Solicitud incorrecta. La solicitud es inválida o no puede ser procesada.';
$string['unauthorized'] = 'No autorizado. Verifique sus credenciales de API.';
$string['resource_not_found'] = 'Recurso no encontrado. El recurso especificado no se encontró.';
$string['quota_exceeded'] = 'Cuota excedida. Ha superado su cuota para esta operación.';
$string['internal_server_error'] = 'Error interno del servidor. El servidor encontró un error y no puede procesar su solicitud en este momento.';
$string['unexpected_http_status'] = 'Estado HTTP inesperado: ';
$string['failed_to_get_job_status'] = 'No se pudo obtener el estado del trabajo. Estado HTTP: ';
$string['job_status'] = 'Estado del trabajo: ';
$string['job_completed_successfully'] = 'Trabajo completado exitosamente. URI de descarga: ';
$string['job_completed_but_download_uri_missing'] = 'Trabajo completado pero falta la URI de descarga en la respuesta.';
$string['job_in_progress'] = 'El trabajo aún está en progreso. Continúe consultando...';
$string['job_failed'] = 'El trabajo falló.';
$string['failed_to_decode_json_response'] = 'No se pudo decodificar la respuesta JSON o falta el campo de estado. Respuesta: ';
$string['failed_to_download_asset'] = 'No se pudo descargar el activo. Estado HTTP: ';
$string['asset_downloaded_successfully'] = 'Activo descargado exitosamente.';
$string['error_decoding_json_file'] = 'Error al decodificar el archivo JSON.';
$string['failed_to_obtain_access_token'] = 'No se pudo obtener el token de acceso. Estado HTTP: ';
$string['access_token_obtained_successfully'] = 'Token de acceso obtenido exitosamente.';
$string['failed_to_obtain_access_token_response'] = 'No se pudo obtener el token de acceso. Respuesta: ';
$string['failed_to_obtain_upload_uri'] = 'No se pudo obtener la URI de carga. Estado HTTP: ';
$string['asset_upload_uri_obtained'] = 'URI de carga de activos obtenida.';
$string['failed_to_obtain_upload_uri_response'] = 'No se pudo obtener la URI de carga. Respuesta: ';
$string['failed_to_upload_file'] = 'No se pudo cargar el archivo. Estado HTTP: ';
$string['file_uploaded_successfully'] = 'Archivo cargado exitosamente.';
$string['job_created_successfully'] = 'Trabajo creado exitosamente. Ubicación: ';
$string['bad_request'] = 'Solicitud incorrecta. La solicitud es inválida o no puede ser procesada.';
$string['unauthorized'] = 'No autorizado. Verifique sus credenciales de API.';
$string['resource_not_found'] = 'Recurso no encontrado. El recurso especificado no se encontró.';
$string['quota_exceeded'] = 'Cuota excedida. Ha superado su cuota para esta operación.';
$string['internal_server_error'] = 'Error interno del servidor. El servidor encontró un error y no puede procesar su solicitud en este momento.';
$string['unexpected_http_status'] = 'Estado HTTP inesperado: ';
$string['failed_to_get_job_status'] = 'No se pudo obtener el estado del trabajo. Estado HTTP: ';
$string['job_status'] = 'Estado del trabajo: ';
$string['job_completed_successfully'] = 'Trabajo completado exitosamente. URI de descarga: ';
$string['job_completed_but_download_uri_missing'] = 'Trabajo completado pero falta la URI de descarga en la respuesta.';
$string['job_in_progress'] = 'El trabajo aún está en progreso. Continúe consultando...';
$string['job_failed'] = 'El trabajo falló.';
$string['failed_to_decode_json_response'] = 'No se pudo decodificar la respuesta JSON o falta el campo de estado. Respuesta: ';
$string['failed_to_download_asset'] = 'No se pudo descargar el activo. Estado HTTP: ';
$string['asset_downloaded_successfully'] = 'Activo descargado exitosamente.';
$string['error_decoding_json_file'] = 'Error al decodificar el archivo JSON.';
$string['curl_error'] = 'Error de cURL: ';
$string['http_error'] = 'Error HTTP ';
$string['json_decode_error'] = 'Error de decodificación JSON: ';
$string['no_response_generated'] = 'No se generó respuesta. Datos recibidos: ';
$string['previous_interactions_history'] = 'Historial de interacciones previas:';
$string['previous_question'] = 'Pregunta anterior: ';
$string['answer'] = 'Respuesta: ';
$string['file_not_found'] = 'Archivo no encontrado: ';
$string['unable_to_read_file'] = 'No se pudo leer el archivo';
$string['json_encode_error'] = 'Error de codificación JSON: ';
$string['failure_after_retries'] = 'Fallo después de ';
$string['last_error'] = ' intentos. Último error: HTTP ';
$string['invalid_response_format'] = 'Formato de respuesta inválido.';
$string['http_code'] = 'Código HTTP: ';
$string['pluginname'] = 'uteluqchatbot';
$string['default_prompt'] = <<<EOT
Contexto de la situación
El estudiante está tomando un curso sobre [[ coursename ]]. Tu rol es apoyarlo proporcionando respuestas precisas, relevantes y útiles adaptadas a su aprendizaje.

Misión
Como asistente, tu misión es ayudar al estudiante a entender los conceptos del curso en el Curso X respondiendo a sus preguntas utilizando el contexto proporcionado. [[ history ]]
Debes proporcionar respuestas claras, precisas y relevantes, y solo compartir información que provenga del curso. Si la respuesta no se encuentra en el contexto proporcionado, responde estrictamente con: "Estoy calibrado según el contenido del curso cuidadosamente seleccionado por tu profesor. Si necesitas más información, te animamos a contactarlo."

Si el estudiante escribe frases que muestran que no ha entendido un concepto o una explicación previa, revisa [[ history ]] para identificar qué se malentendió, luego reformula tu explicación de manera más simple con ejemplos más claros.

Instrucciones
1. Analiza cada pregunta para detectar señales emocionales usando la siguiente taxonomía:
   - Confusión: "No entiendo", "Estoy perdido", "No está claro".
   - Frustración: "Esto es molesto", "Me rindo", "Es demasiado difícil".
   - Estrés/Ansiedad: "Estoy estresado", "Estoy abrumado", "No queda tiempo".
   - Duda/Inseguridad: "No puedo hacer esto", "No soy lo suficientemente bueno".

2. Si se detecta una emoción, comienza tu respuesta con una frase empática:
   - Confusión: “Entiendo, no es fácil.”
   - Frustración: “Veo que es frustrante.”
   - Estrés: “Es normal sentirse abrumado a veces.”
   - Duda: “Estás haciendo tu mejor esfuerzo, y eso ya es genial.”

3. Luego responde claramente y con estructura.  
4. Usa ejemplos cuando sea necesario.  
5. Nunca des respuestas fuera del contexto proporcionado.

6. Integra los 4 componentes de la empatía (según se define en [Springer Table 1](https://link.springer.com/article/10.1007/s00146-023-01715-z/tables/1)):
   - Cognitivo: Muestra comprensión de la perspectiva del estudiante y reformula para confirmar. Sugiere ideas vinculadas a lo que dijo sin imponer.
   - Afectivo: Sé emocionalmente consciente, valida sus sentimientos, usa palabras amables o metáforas simples.
   - Actitudinal: Tono cálido, respetuoso y de apoyo. Anima el esfuerzo, muestra apertura, evita juicios.
   - Sintonía: Adapta el lenguaje y estilo al estudiante. Deja que guíe la discusión.

7. Mantén un tono amable, respetuoso y motivador durante todo el intercambio.

Nueva pregunta del estudiante  
Nueva pregunta del estudiante [[ question ]]
EOT;
$string['sending_question'] = 'Enviando la pregunta...';
$string['error'] = 'Error: ';
$string['error_sending_question'] = 'Error al enviar la pregunta: ';
$string['saving_prompt'] = 'Guardando el prompt...';
$string['prompt_saved_successfully'] = '¡Prompt guardado exitosamente!';
$string['error_saving_prompt'] = 'Error al guardar el prompt: ';
$string['uploading_file'] = 'Cargando el archivo...';
$string['file_indexed_successfully'] = '¡Archivo indexado exitosamente!';
$string['error_processing_file'] = 'Error al procesar el archivo: ';
$string['add_files'] = 'Agregar archivos';
$string['text_or_pdf_files'] = 'Archivos de texto o PDF';
$string['drag_files_here_or_click'] = 'Arrastra tus archivos aquí o haz clic para explorar';
$string['cancel'] = 'Cancelar';
$string['upload_course'] = 'Cargar curso';
$string['file_size_exceeds_limit'] = 'El tamaño del archivo excede el límite de 10 MB';
$string['modify_prompt'] = 'Modificar';
$string['add_prompt'] = 'Agregar';
$string['consult_guide'] = 'Consulta la guía para diseñar prompts efectivos:';
$string['guide_link'] = 'Guía para diseñar prompts para profesores';
$string['prompt_content'] = 'Contenido del prompt';
$string['write_prompt_here'] = 'Escribe tu prompt aquí';
$string['cancel'] = 'Cancelar';
$string['save'] = 'Guardar';
$string['back'] = 'Volver';
$string['chatbot_with_toggle_buttons'] = 'Chatbot con botones de alternancia';
$string['hello_professor'] = 'Hola profesor, tienes la opción de probar el chatbot para asegurarte de que funciona correctamente y que tu prompt está configurado de manera óptima.';
$string['hello_student'] = '¡Hola! Soy tu asistente de aprendizaje. Puedo ayudarte con: - Entender conceptos del curso - Repasar y practicar ejercicios - Aclarar puntos difíciles - Sugerir métodos de estudio. ¿Cómo puedo ayudarte?';
$string['ask_your_question_here'] = 'Haz tu pregunta aquí...';
$string['modify_prompt'] = 'Modificar prompt';
$string['upload_course'] = 'Cargar curso';
$string['error_uploading_asset'] = 'Error al cargar el activo.';
$string['error_creating_job'] = 'Error al crear el trabajo.';
$string['job_failed'] = 'El trabajo falló.';
$string['error_processing_pdf'] = 'Error al procesar el PDF.';
$string['json_encode_error'] = 'Error de codificación JSON: ';
$string['privacy:metadata:block_uteluqchatbot_conversations'] = 'Información sobre las conversaciones de los usuarios con el chatbot';
$string['privacy:metadata:block_uteluqchatbot_conversations:userid'] = 'El ID del usuario que creó la conversación';
$string['privacy:metadata:block_uteluqchatbot_conversations:question'] = 'La pregunta hecha por el usuario';
$string['privacy:metadata:block_uteluqchatbot_conversations:answer'] = 'La respuesta proporcionada por el chatbot';
$string['privacy:metadata:block_uteluqchatbot_conversations:timecreated'] = 'El momento en que se creó la conversación';
$string['privacy:metadata:block_uteluqchatbot_conversations:courseid'] = 'El ID del curso donde tuvo lugar la conversación';
$string['privacy:metadata:block_uteluqchatbot_prompts'] = 'Información sobre los prompts personalizados creados por los usuarios';
$string['privacy:metadata:block_uteluqchatbot_prompts:prompt'] = 'El texto del prompt personalizado creado por el usuario';
$string['privacy:metadata:block_uteluqchatbot_prompts:userid'] = 'El ID del usuario que creó el prompt';
$string['privacy:metadata:block_uteluqchatbot_prompts:courseid'] = 'El ID del curso donde se creó el prompt';
$string['privacy:metadata:block_uteluqchatbot_prompts:timecreated'] = 'El momento en que se creó el prompt';
$string['privacy:metadata:cohere_api'] = 'Datos enviados al servicio de la API de Cohere para respuestas de chat impulsadas por IA';
$string['privacy:metadata:cohere_api:question'] = 'La pregunta del usuario enviada a la API de Cohere para su procesamiento';
$string['privacy:metadata:cohere_api:courseid'] = 'La información del contexto del curso enviada a la API de Cohere';
$string['privacy:metadata:cohere_api:prompt'] = 'Prompts personalizados e instrucciones del sistema enviadas a la API de Cohere';
$string['privacy:metadata:weaviate_cloud'] = 'Datos enviados a la base de datos vectorial de Weaviate Cloud para almacenamiento de documentos y búsqueda por similitud';
$string['privacy:metadata:weaviate_cloud:document_content'] = 'Contenido de texto extraído de documentos cargados almacenados en Weaviate';
$string['privacy:metadata:weaviate_cloud:embeddings'] = 'Incrustaciones vectoriales generadas a partir del contenido de documentos almacenados en Weaviate';
$string['privacy:metadata:weaviate_cloud:courseid'] = 'Información del contexto del curso asociada con los documentos almacenados';
$string['privacy:metadata:weaviate_cloud:metadata'] = 'Metadatos y propiedades de los documentos almacenados en la base de datos de Weaviate';
$string['privacy:metadata:adobe_pdf_api'] = 'Datos enviados a la API de Adobe PDF Services para extracción de texto de documentos PDF';
$string['privacy:metadata:adobe_pdf_api:pdf_content'] = 'Contenido del archivo PDF enviado a Adobe PDF Services para extracción de texto';
$string['privacy:metadata:adobe_pdf_api:filename'] = 'Nombre original del documento PDF enviado para su procesamiento';
$string['privacy:metadata:adobe_pdf_api:extracted_text'] = 'Contenido de texto extraído de documentos PDF por Adobe PDF Services';
$string['pluginname'] = 'Chatbot TÉLUQ';
$string['conversations'] = 'Conversaciones';
$string['prompts'] = 'Prompts personalizados';
$string['no_files_selected'] = 'No se seleccionaron archivos';
$string['course_id'] = 'ID del curso';
$string['file_name'] = 'Nombre del archivo';
$string['file_content_base64'] = 'Contenido del archivo (codificado en base64)';
$string['insufficient_permissions'] = 'Permisos insuficientes para cargar archivos';
$string['missing_api_configuration'] = 'Falta la configuración requerida de la API';
$string['weaviate_connector_not_found'] = 'Clase WeaviateConnector no encontrada';
$string['collection_prefix'] = 'Colección_curso_';
$string['error_creating_collection'] = 'Error al crear la colección: ';
$string['unknown_error'] = 'Error desconocido';
$string['failed_create_upload_directory'] = 'No se pudo crear el directorio de carga';
$string['empty_filename'] = 'Nombre de archivo vacío proporcionado';
$string['unsupported_file_type'] = 'Tipo de archivo no soportado: ';
$string['invalid_file_data'] = 'Datos de archivo inválidos para: ';
$string['failed_save_file'] = 'No se pudo guardar el archivo: ';
$string['adobe_pdf_credentials_not_configured'] = 'Credenciales de la API de Adobe PDF no configuradas';
$string['pdf_extractor_not_found'] = 'Clase de extracción de PDF no encontrada';
$string['failed_extract_pdf_text'] = 'No se pudo extraer texto del PDF: ';
$string['failed_save_extracted_text'] = 'No se pudo guardar el archivo de texto extraído: ';
$string['error_indexing_file_unknown'] = 'Error al indexar el archivo ';
$string['files_indexed_successfully'] = ' archivo(s) indexado(s) exitosamente';
$string['errors_occurred'] = '. Errores: ';
$string['no_files_processed'] = 'No se procesaron archivos. Errores: ';
$string['operation_successful'] = 'Operación exitosa';
$string['response_message'] = 'Mensaje de respuesta';
$string['processed_files_count'] = 'Número de archivos procesados';
$string['sending_question_fallback'] = 'Enviando la pregunta...';
$string['error_colon_fallback'] = 'Error: ';
$string['error_sending_question_fallback'] = 'Error al enviar la pregunta: ';
$string['saving_prompt_fallback'] = 'Guardando el prompt...';
$string['prompt_saved_successfully_fallback'] = '¡Prompt guardado exitosamente!';
$string['error_saving_prompt_fallback'] = 'Error al guardar el prompt: ';
$string['no_files_selected_fallback'] = 'No se seleccionaron archivos.';
$string['uploading_files_fallback'] = 'Cargando archivos...';
$string['files_indexed_successfully_fallback'] = '¡Archivos indexados exitosamente!';
$string['error_processing_files_fallback'] = 'Error al procesar archivos: ';
$string['unknown_error_occurred'] = 'Ocurrió un error desconocido';
$string['server_response_error'] = 'Error de respuesta del servidor. Verifica la consola para más detalles.';
$string['server_error_check_console'] = 'Error del servidor - verifica la consola para más detalles';
$string['files_converted_debug'] = 'Archivos convertidos a base64:';
$string['sending_ajax_request_debug'] = 'Enviando solicitud AJAX:';
$string['upload_response_received_debug'] = 'Respuesta de carga recibida:';
$string['response_type_debug'] = 'Tipo de respuesta:';
$string['upload_error_details_debug'] = 'Detalles del error de carga:';
$string['error_object_debug'] = 'Objeto de error:';
$string['raw_server_response_debug'] = 'Respuesta cruda del servidor:';
